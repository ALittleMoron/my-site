---
alwaysApply: true
---

# Дополнительные правила

- Не используйте print(): Только structlog для всех выводов.
- Не используйте `__init__`: Используйте dataclass поля вместо конструкторов (исключение: создание класса на основе внешней зависимости, если там используется init вместо dataclass)
- Property методы: Используйте @property для вычисляемых значений в Settings и моделях (но только там, где это будет похоже на атрибут)
- Валидация через Pydantic: Вся входящая валидация данных через Pydantic модели, бизнес-валидация в доменных методах.
- Разделение по окружениям: Используйте settings.app.debug для переключения между dev и production поведением.
- ECS формат в production: В production логи автоматически в ECS формате для интеграции с мониторингом.
- Для проверки работы приложения через тесты используй команду `make tests` или `make tests-coverage`. Для итоговой проверки качества кода используй команду `make quality`