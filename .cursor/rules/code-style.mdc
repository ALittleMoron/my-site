---
alwaysApply: true
---

# Стиль кода

- Dataclasses Only: Все самописные классы создаются через @dataclass. Используйте kw_only=True для параметров, frozen=True для immutable сущностей, slots=True для оптимизации.
- Type Hints обязательны: Все функции, методы и переменные должны иметь типы. Используйте mypy для проверки типизации.
- Async/Await: Используйте асинхронное программирование везде, где это возможно (БД запросы, внешние API, файловые операции).
- Pydantic Models: Для валидации данных используйте Pydantic. Для настроек — Pydantic Settings.
- Immutable доменные сущности: Доменные модели должны быть frozen dataclasses. Методы возвращают новые экземпляры вместо изменения текущего.